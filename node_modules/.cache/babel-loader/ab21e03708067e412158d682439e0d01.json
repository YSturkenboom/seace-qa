{"ast":null,"code":"var _jsxFileName = \"/home/yuri/Freelance/Clients/Cheil/seace-qa/src/components/MapFilter.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Button, Radio, Card, RadioGroup, FormControlLabel } from '@material-ui/core';\nimport { Formik, Form, Field } from 'formik';\nimport { FilterTextField } from './form/FilterTextField';\nimport { LocationCard } from './form/LocationCard';\nimport { Search } from '@material-ui/icons';\n\nconst distanceToTarget = (location, locationTarget) => {\n  // TODO: Replace with maps distance\n  var a = location.lat - locationTarget.lat;\n  var b = location.lon - locationTarget.lon;\n  return Math.sqrt(a * a + b * b);\n};\n\nexport const Filter = ({\n  onSubmit,\n  loading,\n  companies,\n  searchLocation,\n  mapRef,\n  setActivePlace,\n  filterCompanies,\n  filteredCompanies\n}) => {\n  const [distance, setDistance] = useState(10);\n  const [searchType, setSearchType] = useState('simple');\n  const [storeTypeDropDownIsOpen, setStoreTypeDropDownIsOpen] = useState(true);\n  const [productTypeDropDownIsOpen, setProductTypeDropDownIsOpen] = useState(true);\n  const [storeType, setStoreType] = useState('For home & business');\n  const [productType, setProductType] = useState('Cooling & Heating');\n  const [distanceType, setDistanceType] = useState('km'); // Every filter change, or when companies load in\n\n  useEffect(() => {\n    if (companies && searchLocation) {\n      setFilteredCompanies(filterCompanies(companies, distance, searchLocation, storeType, productType, searchType));\n    }\n  }, [distance, searchLocation, companies, storeType, searchType, productType, filterCompanies]);\n  return /*#__PURE__*/React.createElement(Card, {\n    raised: true,\n    className: \"map-search-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"map-search-box-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"map-search-box-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"Installer Locator\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Information on this page is subject to change without prior notice. Please contact the installer directly for up to date information.\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"map-search-box-form-searchtype\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setSearchType(\"simple\"),\n    className: \"map-search-box-form-distance-btn\" + (searchType === 'simple' ? \" btn-active\" : ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setSearchType(\"advanced\"),\n    className: \"map-search-box-form-distance-btn\" + (searchType !== 'simple' ? \" btn-active\" : ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"Advanced Search\")), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      address: \"\",\n      distanceInKilometers: 10\n    },\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, ({\n    values\n  }) => /*#__PURE__*/React.createElement(Form, {\n    className: \"map-search-box-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"map-search-box-form-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"address\",\n    placeholder: \"Address or post code...\",\n    component: FilterTextField,\n    className: \"map-search-box-form-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 41\n    }\n  }, \" \"))), /*#__PURE__*/React.createElement(RadioGroup, {\n    row: true,\n    onChange: e => setDistance(parseInt(e.target.value)),\n    \"aria-label\": \"position\",\n    name: \"distance\",\n    defaultValue: \"10\",\n    className: \"map-search-box-form-distance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"10\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 50\n      }\n    }),\n    label: \"1 mile\",\n    labelPlacement: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"20\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 50\n      }\n    }),\n    label: \"2 miles\",\n    labelPlacement: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"50\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 50\n      }\n    }),\n    label: \"5 miles\",\n    labelPlacement: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"100\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 50\n      }\n    }),\n    label: \"10 miles\",\n    labelPlacement: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(RadioGroup, {\n    row: true,\n    onChange: e => setDistanceType(e.target.value),\n    \"aria-label\": \"position\",\n    name: \"type\",\n    defaultValue: \"km\",\n    className: \"map-search-box-form-distance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"km\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 50\n      }\n    }),\n    label: \"km\",\n    labelPlacement: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"mile\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 50\n      }\n    }),\n    label: \"miles\",\n    labelPlacement: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 37\n    }\n  }))))), searchType === 'advanced' && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"map-search-box-advanced\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"map-search-box-advanced-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, \"Store Type\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setStoreTypeDropDownIsOpen(!storeTypeDropDownIsOpen),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, storeTypeDropDownIsOpen ? '-' : '+')), storeTypeDropDownIsOpen && /*#__PURE__*/React.createElement(RadioGroup, {\n    onChange: e => setStoreType(e.target.value),\n    \"aria-label\": \"position\",\n    name: \"position\",\n    defaultValue: \"For home and business\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"For home\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 42\n      }\n    }),\n    label: \"For Home\",\n    labelPlacement: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"For business\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 42\n      }\n    }),\n    label: \"For Business\",\n    labelPlacement: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"For home & business\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 42\n      }\n    }),\n    label: \"For Home & Business\",\n    labelPlacement: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"map-search-box-advanced-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, \"Product Type\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setProductTypeDropDownIsOpen(!productTypeDropDownIsOpen),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 25\n    }\n  }, productTypeDropDownIsOpen ? '-' : '+')), productTypeDropDownIsOpen && /*#__PURE__*/React.createElement(RadioGroup, {\n    onChange: e => setProductType(e.target.value),\n    \"aria-label\": \"position\",\n    name: \"position\",\n    defaultValue: \"Cooling & Heating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"Cooling\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 42\n      }\n    }),\n    label: \"Cooling\",\n    labelPlacement: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"Heating\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 42\n      }\n    }),\n    label: \"Heating\",\n    labelPlacement: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"Cooling & Heating\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 42\n      }\n    }),\n    label: \"Cooling & Heating\",\n    labelPlacement: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"map-search-box-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, loading ? 'Loading...' : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }, filteredCompanies ? filteredCompanies.map(c => /*#__PURE__*/React.createElement(LocationCard, {\n    name: c['Company name'],\n    telephone: c['Phone number'],\n    address: c['Street Address'],\n    distance: c.distanceToTarget,\n    distanceType: distanceType,\n    mapRef: mapRef,\n    lat: parseFloat(String(c['Latitude'])),\n    lon: parseFloat(String(c['Longitude'])),\n    setActivePlace: setActivePlace,\n    installerType: c['Installer Type'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 29\n    }\n  })) : \"No installers found. Please broaden your search criteria\")));\n};\n/* <p>Text</p>\n<div>\n    <button onClick={}>Search</button>\n    <button>Advanced search</button>\n</div>\n<input onChange={(e) => setQuery(e.target.value)} value={query} placeholder={'Postcode or address...'} /> */","map":{"version":3,"sources":["/home/yuri/Freelance/Clients/Cheil/seace-qa/src/components/MapFilter.tsx"],"names":["React","useState","useEffect","Button","Radio","Card","RadioGroup","FormControlLabel","Formik","Form","Field","FilterTextField","LocationCard","Search","distanceToTarget","location","locationTarget","a","lat","b","lon","Math","sqrt","Filter","onSubmit","loading","companies","searchLocation","mapRef","setActivePlace","filterCompanies","filteredCompanies","distance","setDistance","searchType","setSearchType","storeTypeDropDownIsOpen","setStoreTypeDropDownIsOpen","productTypeDropDownIsOpen","setProductTypeDropDownIsOpen","storeType","setStoreType","productType","setProductType","distanceType","setDistanceType","setFilteredCompanies","address","distanceInKilometers","values","e","parseInt","target","value","map","c","parseFloat","String"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, Radio, Card, RadioGroup, FormControlLabel } from '@material-ui/core';\nimport { Formik, Form, Field } from 'formik';\nimport { FilterTextField } from './form/FilterTextField';\nimport { LocationCard } from './form/LocationCard';\nimport { Search } from '@material-ui/icons';\nimport { CompanyLayout, LocationLayout } from '../interfaces';\nimport { GoogleMap } from \"react-google-maps\"\n\n\ninterface Values {\n    address: string;\n    distanceInKilometers: number;\n}\n  \ninterface Props {\n    onSubmit: (values: Values) => void;\n    companies: Array<CompanyLayout> | null;\n    loading: boolean;\n    searchLocation: LocationLayout | null;\n    mapRef: React.RefObject<GoogleMap>;\n    setActivePlace: React.Dispatch<React.SetStateAction<string | null | undefined>>;\n}\n\nconst distanceToTarget = (location: LocationLayout, locationTarget: LocationLayout) => {\n\n    // TODO: Replace with maps distance\n    var a = location.lat - locationTarget.lat;\n    var b = location.lon - locationTarget.lon;    \n    return Math.sqrt( a*a + b*b );\n};\n\nexport const Filter: React.FC<Props> = ({ onSubmit, loading, companies, searchLocation, mapRef, setActivePlace, filterCompanies, filteredCompanies }) => {\n    const [distance, setDistance] = useState<number>(10);\n    const [searchType, setSearchType] = useState<'simple' | 'advanced'>('simple');\n    const [storeTypeDropDownIsOpen, setStoreTypeDropDownIsOpen] = useState<boolean>(true);\n    const [productTypeDropDownIsOpen, setProductTypeDropDownIsOpen] = useState<boolean>(true);\n    const [storeType, setStoreType] = useState<string>('For home & business')\n    const [productType, setProductType] = useState<string>('Cooling & Heating');\n    const [distanceType, setDistanceType] = useState<string>('km'); \n\n    // Every filter change, or when companies load in\n    useEffect(() => {\n        if (companies && searchLocation) {\n            setFilteredCompanies(filterCompanies(companies, distance, searchLocation, storeType, productType, searchType));\n        }\n    }, [distance, searchLocation, companies, storeType, searchType, productType, filterCompanies]);\n\n    return (\n        <Card raised className=\"map-search-box\">\n            <div className=\"map-search-box-header\">\n                <h1 className=\"map-search-box-heading\">Installer Locator</h1>\n                <p>Information on this page is subject to change without prior notice. Please contact the installer directly for up to date information.</p>\n            </div>\n            \n            <div>\n                <div className=\"map-search-box-form-searchtype\">\n                    <Button \n                        onClick={() => setSearchType(\"simple\")}\n                        className={\"map-search-box-form-distance-btn\" + (searchType === 'simple' ? \" btn-active\" : '')}\n                    >\n                        Search\n                    </Button>\n                    <Button\n                        onClick={() => setSearchType(\"advanced\")}\n                        className={\"map-search-box-form-distance-btn\" + (searchType !== 'simple' ? \" btn-active\" : '')}\n                    >\n                        Advanced Search\n                    </Button>\n                </div>\n\n                <Formik \n                    initialValues={{\n                        address: \"\",\n                        distanceInKilometers: 10,\n                    }}\n                    onSubmit={onSubmit}\n                >\n                    {({ values }) => (\n                        <Form className=\"map-search-box-form\">\n                                <div className=\"map-search-box-form-search\">\n                                    <Field\n                                        name=\"address\"\n                                        placeholder=\"Address or post code...\"\n                                        component={FilterTextField}\n                                        className=\"map-search-box-form-search\"\n                                    />\n                                    <Button type=\"submit\">\n                                        <Search> </Search>\n                                    </Button>\n                                </div>\n\n                                <RadioGroup row onChange={e => setDistance(parseInt(e.target.value))}  aria-label=\"position\" name=\"distance\" defaultValue=\"10\" className=\"map-search-box-form-distance\">\n                                    <FormControlLabel\n                                        value=\"10\"\n                                        control={<Radio color=\"primary\" />}\n                                        label=\"1 mile\"\n                                        labelPlacement=\"top\"\n                                    />\n                                    <FormControlLabel\n                                        value=\"20\"\n                                        control={<Radio color=\"primary\" />}\n                                        label=\"2 miles\"\n                                        labelPlacement=\"top\"\n                                    />\n                                    <FormControlLabel\n                                        value=\"50\"\n                                        control={<Radio color=\"primary\" />}\n                                        label=\"5 miles\"\n                                        labelPlacement=\"top\"\n                                    />\n                                    <FormControlLabel\n                                        value=\"100\"\n                                        control={<Radio color=\"primary\" />}\n                                        label=\"10 miles\"\n                                        labelPlacement=\"top\"\n                                    />\n                                </RadioGroup>\n                                <RadioGroup row onChange={e => setDistanceType(e.target.value)} aria-label=\"position\" name=\"type\" defaultValue=\"km\" className=\"map-search-box-form-distance\">\n                                    <FormControlLabel\n                                        value=\"km\"\n                                        control={<Radio color=\"primary\" />}\n                                        label=\"km\"\n                                        labelPlacement=\"top\"\n                                    />\n                                    <FormControlLabel\n                                        value=\"mile\"\n                                        control={<Radio color=\"primary\" />}\n                                        label=\"miles\"\n                                        labelPlacement=\"top\"\n                                    />\n                                </RadioGroup>\n                        </Form>\n                    )}\n                    \n                </Formik>\n            </div>\n\n            {searchType === 'advanced' &&\n                <div className=\"map-search-box-advanced\">\n                    <div className=\"map-search-box-advanced-header\">\n                        <p>Store Type</p>\n                        <Button onClick={() => setStoreTypeDropDownIsOpen(!storeTypeDropDownIsOpen)}>\n                            {storeTypeDropDownIsOpen ? '-' : '+'}\n                        </Button>\n                    </div>\n                    {storeTypeDropDownIsOpen &&\n                        <RadioGroup onChange={e => setStoreType(e.target.value)} aria-label=\"position\" name=\"position\" defaultValue=\"For home and business\">\n                            <FormControlLabel\n                                value=\"For home\"\n                                control={<Radio color=\"primary\" />}\n                                label=\"For Home\"\n                                labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                                value=\"For business\"\n                                control={<Radio color=\"primary\" />}\n                                label=\"For Business\"\n                                labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                                value='For home & business'\n                                control={<Radio color=\"primary\" />}\n                                label=\"For Home & Business\"\n                                labelPlacement=\"end\"\n                            />\n                        </RadioGroup>\n                    }\n                    <div className=\"map-search-box-advanced-header\">\n                        <p>Product Type</p>\n                        <Button onClick={() => setProductTypeDropDownIsOpen(!productTypeDropDownIsOpen)}>\n                            {productTypeDropDownIsOpen ? '-' : '+'}\n                        </Button>\n                    </div>\n                    {productTypeDropDownIsOpen &&\n                        <RadioGroup onChange={e => setProductType(e.target.value)} aria-label=\"position\" name=\"position\" defaultValue=\"Cooling & Heating\">\n                            <FormControlLabel\n                                value=\"Cooling\"\n                                control={<Radio color=\"primary\" />}\n                                label=\"Cooling\"\n                                labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                                value=\"Heating\"\n                                control={<Radio color=\"primary\" />}\n                                label=\"Heating\"\n                                labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                                value='Cooling & Heating'\n                                control={<Radio color=\"primary\" />}\n                                label=\"Cooling & Heating\"\n                                labelPlacement=\"end\"\n                            />\n                        </RadioGroup>\n                    }\n            </div>\n            }\n\n            <div className=\"map-search-box-footer\">\n                {loading ? (\n                    'Loading...'\n                ) : (\n                    <div>\n                        {filteredCompanies ? filteredCompanies.map(c =>\n                            <LocationCard\n                                name={c['Company name']}\n                                telephone={c['Phone number']}\n                                address={c['Street Address']}\n                                distance={c.distanceToTarget}\n                                distanceType={distanceType}\n                                mapRef={mapRef}\n                                lat={parseFloat(String(c['Latitude']))}\n                                lon={parseFloat(String(c['Longitude']))}\n                                setActivePlace={setActivePlace}\n                                installerType={c['Installer Type']}\n                            />\n                        ) : \"No installers found. Please broaden your search criteria\"}\n                    </div>\n                )}\n            </div>\n        </Card>\n    );\n}\n\n            /* <p>Text</p>\n            <div>\n                <button onClick={}>Search</button>\n                <button>Advanced search</button>\n            </div>\n            <input onChange={(e) => setQuery(e.target.value)} value={query} placeholder={'Postcode or address...'} /> */"]},"metadata":{},"sourceType":"module"}